@use 'sass:color' as sys;
@use "../conf.scss" as conf;
@use "../funcs.scss" as f;

// --- Card Variables ---
$card-border-radius: conf.$default-radius;
$card-image-height: 220px;
$card-gap: 1.5rem;
$card-min-width: 300px;
$card-transition: transform 0.3s ease, box-shadow 0.3s ease;

// --- Light Theme Colors ---
$card-bg-light: conf.$color-bg-light;
$card-text-light: conf.$color-text-light;
$card-border-light: sys.scale($card-bg-light, $lightness: -10%);

// --- Dark Theme Colors ---
$card-bg-dark: sys.scale(conf.$color-bg-dark, $lightness: 10%);
$card-text-dark: conf.$color-text-dark;
$card-border-dark: sys.scale($card-bg-dark, $lightness: 15%);

.articles-container {
    max-width: var(--max-width);
    margin: 1rem auto;
    padding: 0 conf.$default-space;
}

.articles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax($card-min-width, 1fr));
    gap: $card-gap;
    margin-top: 2rem;
}

.card-page {
    border-radius: $card-border-radius;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    transition: $card-transition;
    position: relative;
    display: block;
    height: $card-image-height;
    background-color: $card-bg-dark;

    &:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }

    @media (prefers-color-scheme: dark) {
        background-color: sys.scale($card-bg-dark, $lightness: 5%);
    }

    &::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(151, 151, 151, 0.8) 0%, rgba(255, 255, 255, 0) 60%);
        z-index: 1;

        @media (prefers-color-scheme: dark) {
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 60%);
        }
    }

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        // filter: blur(1px);
    }

    &__title {
        @include f.font-txt;
        color: #fff; // Белый цвет для лучшего контраста на градиенте
        padding: 1.25rem;
        font-weight: 600;
        font-size: 1.1rem;
        line-height: 1.4;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 2;
    }

    &__link {
        position: absolute;
        inset: 0;
        z-index: 3;
    }
}