<div class="circle-menu-overlay"></div>

<header id="circle-menu-container" class="circle-menu-container">
    <div class="circle-menu-wrapper">
        
        <nav class="circle-nav">
            <ul class="circle-menu-list">
                <li class="is-left">
                    <a href="<?php echo home_url('/about-us/'); ?>" aria-label="О нас">
                        <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3.99988 2.75C3.99988 2.02065 4.28961 1.32118 4.80533 0.805456C5.32106 0.289731 6.02053 0 6.74988 0C7.47922 0 8.1787 0.289731 8.69442 0.805456C9.21015 1.32118 9.49988 2.02065 9.49988 2.75C9.49988 3.47935 9.21015 4.17882 8.69442 4.69454C8.1787 5.21027 7.47922 5.5 6.74988 5.5C6.02053 5.5 5.32106 5.21027 4.80533 4.69454C4.28961 4.17882 3.99988 3.47935 3.99988 2.75ZM6.74988 1.5C6.41836 1.5 6.10041 1.6317 5.86599 1.86612C5.63157 2.10054 5.49988 2.41848 5.49988 2.75C5.49988 3.08152 5.63157 3.39946 5.86599 3.63388C6.10041 3.8683 6.41836 4 6.74988 4C7.0814 4 7.39934 3.8683 7.63376 3.63388C7.86818 3.39946 7.99988 3.08152 7.99988 2.75C7.99988 2.41848 7.86818 2.10054 7.63376 1.86612C7.39934 1.6317 7.0814 1.5 6.74988 1.5Z" fill="currentColor"/>
                        <path d="M0.0598782 5.457C0.137476 5.27389 0.284625 5.12909 0.468966 5.05445C0.653306 4.97982 0.859744 4.98145 1.04288 5.059L1.04388 5.06L1.04988 5.063L1.07688 5.074L1.18688 5.119C1.28621 5.15967 1.42621 5.21433 1.60688 5.283C1.96688 5.42 2.47188 5.603 3.05188 5.785C4.22988 6.155 5.63888 6.5 6.74988 6.5C7.86088 6.5 9.26988 6.155 10.4479 5.785C11.1148 5.57367 11.7733 5.33649 12.4219 5.074L12.4499 5.063L12.4559 5.06H12.4569C12.6385 4.98949 12.8405 4.99244 13.02 5.06823C13.1995 5.14401 13.3425 5.28668 13.4186 5.46603C13.4948 5.64538 13.4981 5.84733 13.428 6.02912C13.3579 6.21091 13.2198 6.35827 13.0429 6.44L13.0389 6.442L13.0289 6.446L12.9969 6.46L12.8739 6.51C12.2243 6.76994 11.5651 7.00544 10.8979 7.216C9.90988 7.526 8.66188 7.855 7.49988 7.963V9.203C7.49988 9.633 7.62388 10.056 7.85688 10.419L10.3809 14.344C10.4342 14.4269 10.4707 14.5194 10.4882 14.6164C10.5058 14.7133 10.504 14.8128 10.4831 14.9091C10.4623 15.0054 10.4226 15.0966 10.3664 15.1776C10.3103 15.2586 10.2387 15.3277 10.1559 15.381C10.073 15.4343 9.98046 15.4708 9.8835 15.4883C9.78654 15.5059 9.68707 15.5042 9.59078 15.4833C9.49448 15.4624 9.40325 15.4227 9.32228 15.3666C9.24131 15.3104 9.1722 15.2389 9.11888 15.156L6.74988 11.47L4.37988 15.156C4.32843 15.2427 4.26002 15.3181 4.17875 15.3778C4.09748 15.4375 4.00502 15.4801 3.90689 15.5032C3.80876 15.5264 3.70697 15.5295 3.60762 15.5124C3.50826 15.4952 3.41337 15.4583 3.32863 15.4037C3.24388 15.349 3.17102 15.2779 3.11439 15.1945C3.05776 15.1111 3.01853 15.0171 2.99905 14.9182C2.97956 14.8193 2.98022 14.7174 3.00098 14.6188C3.02174 14.5201 3.06218 14.4267 3.11988 14.344L5.64288 10.419C5.87611 10.056 6.00004 9.63351 5.99988 9.202V7.963C4.83788 7.855 3.58988 7.527 2.60088 7.216C1.89178 6.99196 1.19189 6.73976 0.502878 6.46L0.469878 6.446L0.460878 6.442L0.456878 6.441C0.366176 6.40249 0.283952 6.34648 0.214905 6.27617C0.145859 6.20587 0.091343 6.12265 0.0544742 6.03127C0.0176053 5.93988 -0.000894019 5.84213 3.32066e-05 5.7436C0.000960433 5.64506 0.0212962 5.54767 0.0598782 5.457Z" fill="currentColor"/>
                        </svg>
                    </a>
                </li>
                <li class="is-right">
                    <a href="<?php echo esc_url(get_permalink(get_option('page_for_posts'))); ?>" aria-label="Все статьи">
                        <svg fill="currentColor" width="800px" height="800px" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg"><path d="M22.406 15.477A4.587 4.587 0 0 1 24 18.955c0 2.531-2.053 4.59-4.577 4.59H1.113a1.113 1.113 0 0 1 0-2.226h18.31a2.36 2.36 0 0 0 2.35-2.364 2.36 2.36 0 0 0-2.35-2.364H1.113a1.113 1.113 0 0 1 0-2.227h18.31A2.36 2.36 0 0 0 21.773 12a2.36 2.36 0 0 0-2.35-2.364H1.113a1.113 1.113 0 1 1 0-2.227h18.31c1.296 0 2.35-1.06 2.35-2.364s-1.054-2.364-2.35-2.364a1.113 1.113 0 0 1 0-2.227C21.947.454 24 2.514 24 5.045c0 1.389-.62 2.635-1.594 3.477A4.587 4.587 0 0 1 24 12c0 1.389-.62 2.635-1.594 3.477z"/></svg>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="main-circle">
            <div class="circle-content">
                <div class="site-logo">
                    <?php if (has_custom_logo()) : ?>
                        <?php the_custom_logo(); ?>
                    <?php else : ?>
                        <a href="<?php echo home_url(); ?>" class="text-logo">
                            <?php echo mb_substr(get_bloginfo('name'), 0, 2); ?>
                        </a>
                    <?php endif; ?>
                </div>
            </div>

            <div class="rotating-bezel">
                <svg viewBox="0 0 200 200">
                    <defs>
                        <path id="textCircle" d="M 100, 100 m -80, 0 a 80,80 0 1,1 160,0 a 80,80 0 1,1 -160,0" />
                    </defs>
                    <text>
                        <textPath href="#textCircle" startOffset="0%">
                            <?php 
                            $name = get_bloginfo('name'); 
                            echo esc_html($name . ' • ' . $name . ' • ' . $name . ' • '); 
                            ?>
                        </textPath>
                    </text>
                </svg>
            </div>
        </div>

    </div>
</header>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('circle-menu-container');
    const items = container.querySelectorAll('.circle-menu-list > li');
    const overlay = document.querySelector('.circle-menu-overlay');
    
    // Configuration
    const radius = 80; // Distance from the center
    
    items.forEach(item => {
        const isLeft = item.classList.contains('is-left');
        const angleDeg = isLeft ? 180 : 0;
        const angleRad = angleDeg * (Math.PI / 180);
        
        const x = radius * Math.cos(angleRad);
        const y = radius * Math.sin(angleRad);
        
        item.style.setProperty('--item-x', `${x}px`);
        item.style.setProperty('--item-y', `${y}px`);
    });

    // Mobile / Click interaction
    const toggleMenu = () => {
        container.classList.toggle('is-active');
        if (overlay) overlay.classList.toggle('is-active');
    };

    container.querySelector('.main-circle').addEventListener('click', () => {
        window.location.href = <?php echo json_encode(home_url('/')); ?>;
    });
    if (overlay) overlay.addEventListener('click', toggleMenu);
});
</script>