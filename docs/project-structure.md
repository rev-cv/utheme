[← Назад](../README.md)

---

## Структура проекта

- `README.md` + `docs/` — документация проекта.
- `core/` — ядро автоматизации - python-скрипты для парсинга и процессинга.
- `docker-compose.yml` — конфигурация docker-контейнеров (WordPress + DB).
- `setup_site.sh` — bash-скрипт, выполняющийся внутри docker-контейнера. Производит первоначальную настройку WordPress. Самостоятельно не выполняется, его исполнение инициализируется из [setup.py](../setup.py).
- `setup.py`:
    - устанавливает ядро WordPress и задает язык сайта.
    - создает администратора со случайным паролем и автора контента.
    - активирует кастомную тему и удаляет стандартные.
    - настраивает основные параметры WP (ЧПУ, комментарии, медиа).
    - создает базовую структуру страниц (Главная, Статьи, служебные страницы).
    - формирует и назначает меню (Header, Footer).
    - удаляет стандартные плагины.
    - генерирует пароль приложения (Application Password) для API.
    - сохраняет учетные данные для передачи в `setup.py`.
- `setup.py` — дережирует инициализацией проекта:
    - копирует файлы проекта (если настроен источник обновлений).
    - запускает docker-контейнеры и настраивает права доступа.
    - устанавливает WP-CLI.
    - запускает скрипт внутренней настройки `setup_site.sh`.
    - обрабатывает и сохраняет учетные данные администратора.
    - запускает автоматическую компиляцию SASS.
- `ufirst.py` — скрипт автоматизации первичного наполнения контентом (First Run):
    - парсит HTML-исходники, извлекая контент и SEO-данные.
    - запускает процесс поиска и обработки изображений (конвертация/минификация, уникализация).
    - связывает загруженные картинки с контентом статей.
    - загружает изображения и статьи в WordPress через API.
- `u30.py` — скрипт автоматизации массовой публикации контента с отложенным постингом:
    - выполняет полный пайплайн подготовки контента (изображения, мета-данные, конвертация в блоки).
    - применяет стратегию отложенной публикации (например, "2-3 статьи в день в течение 10 дней").
    - загружает и планирует публикации статей в WordPress.
- `utheme/` — Исходный код кастомной темы WP:
    - `components/` — фрагменты шаблонов (template parts) для вывода элементов интерфейса (шапка, подвал, карточки).
    - `inc/` — PHP-модули, подключаемые в `functions.php`. Содержат логику:
        - генерации содержания (TOC) и вставки динамических блоков
        - обработки контента (извлечение Header-box)
        - регистрации шорткодов (например, блок автора)
        - настройка админки
    - `src/` — исходные файлы фронтенда (SCSS), организованные по компонентному принципу.
        - `conf.scss` — центральный файл конфигурации внешнего вида темы. Содержит SCSS-переменные, которые управляют:
            - типографикой и плотностью: выбор шрифтовой пары (`$font-vibe`), настройка отступов (`$density-vibe`).
            - цветовой схемой: определение палитры для светлой и темной тем.
            - глобальными переключателями: включение/отключение и смена вариантов крупных UI-элементов (например, `$main-menu`).
            - **важно:** Этот файл парсится PHP-скриптами (например, для подключения нужных Google Fonts), что позволяет синхронизировать бэкенд-логику с фронтенд-стилями из единого источника.

После выполнения `setup.py` и запуска контейнера создается:
- `uploads` — папка медиафайлов, синхронизированная с `/var/www/html/wp-content/uploads` внутри контейнера.
- `plugins` — папка плагинов, синхронизированная с `/var/www/html/wp-content/plugins` внутри контейнера.
- `spec` — папка, где хранятся исходники для генерации контента